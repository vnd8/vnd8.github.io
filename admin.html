<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Anes Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Syne:wght@600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-primary: #5b5fff;
      --color-secondary: #764aa2;
      --color-accent: #ffb48a;
      --color-text: #0f1d35;
      --color-muted: #64748b;
      --color-surface: #ffffff;
      --color-surface-muted: #f8fafc;
      --color-border: #e2e8f0;
      --color-subtle: #cbd5e1;
      --gradient-primary: linear-gradient(135deg, #5b5fff 0%, #764aa2 100%);
      --gradient-secondary: linear-gradient(135deg, #764aa2 0%, #ffb48a 100%);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --transition-base: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      --shadow-soft: 0 4px 20px rgba(15, 29, 53, 0.06);
      --shadow-card: 0 8px 40px rgba(15, 29, 53, 0.12);
      --shadow-strong: 0 20px 60px rgba(15, 29, 53, 0.15);
      --font-body: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-heading: 'Syne', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    [data-theme="dark"] {
      --color-text: #e7e8f1;
      --color-muted: #94a3b8;
      --color-surface: #0f172a;
      --color-surface-muted: #1e293b;
      --color-border: #334155;
      --color-subtle: #475569;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-body);
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--color-text);
      min-height: 100vh;
      line-height: 1.6;
    }

    .login-container {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 2rem;
    }

    .login-card {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      padding: 2.5rem;
      width: 100%;
      max-width: 400px;
      box-shadow: var(--shadow-strong);
      border: 1px solid var(--color-border);
    }

    .login-header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .login-header h1 {
      font-family: var(--font-heading);
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .login-header p {
      color: var(--color-muted);
      font-size: 0.95rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--color-text);
    }

    .form-group input {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      background: var(--color-surface-muted);
      color: var(--color-text);
      font-size: 0.95rem;
      transition: border-color var(--transition-base), box-shadow var(--transition-base);
    }

    .form-group input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(91, 95, 255, 0.1);
    }

    .btn {
      width: 100%;
      padding: 0.875rem 1.5rem;
      border: none;
      border-radius: var(--radius-md);
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all var(--transition-base);
      font-family: var(--font-body);
    }

    .btn-primary {
      background: var(--gradient-primary);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(91, 95, 255, 0.3);
    }

    .error-message {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.2);
      color: #ef4444;
      padding: 0.75rem 1rem;
      border-radius: var(--radius-md);
      margin-bottom: 1rem;
      font-size: 0.9rem;
      display: none;
    }

    .admin-container {
      display: none;
      min-height: 100vh;
    }

    .admin-header {
      background: var(--color-surface);
      border-bottom: 1px solid var(--color-border);
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
      background: rgba(15, 23, 42, 0.95);
    }

    .admin-nav {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .admin-brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 700;
      font-family: var(--font-heading);
      font-size: 1.2rem;
    }

    .admin-brand img {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-sm);
    }

    .btn-logout {
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.2);
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
    }

    .btn-logout:hover {
      background: rgba(239, 68, 68, 0.2);
    }

    .admin-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .stat-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      box-shadow: var(--shadow-soft);
      transition: transform var(--transition-base), box-shadow var(--transition-base);
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-card);
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }

    .stat-icon.views { background: rgba(91, 95, 255, 0.1); color: var(--color-primary); }
    .stat-icon.videos { background: rgba(255, 180, 138, 0.1); color: var(--color-accent); }
    .stat-icon.users { background: rgba(118, 75, 162, 0.1); color: var(--color-secondary); }
    .stat-icon.time { background: rgba(34, 197, 94, 0.1); color: #22c55e; }

    .stat-value {
      font-size: 2rem;
      font-weight: 800;
      font-family: var(--font-heading);
      margin-bottom: 0.25rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .stat-label {
      color: var(--color-muted);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .section-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow-soft);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-family: var(--font-heading);
      font-size: 1.3rem;
      font-weight: 700;
    }

    .btn-add {
      background: var(--gradient-primary);
      color: white;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-add:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(91, 95, 255, 0.3);
    }

    .video-list {
      display: grid;
      gap: 1rem;
    }

    .video-item {
      display: grid;
      grid-template-columns: auto 1fr auto auto;
      gap: 1rem;
      align-items: center;
      padding: 1rem;
      background: var(--color-surface-muted);
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
    }

    .video-thumbnail {
      width: 80px;
      height: 45px;
      border-radius: var(--radius-sm);
      object-fit: cover;
    }

    .video-info h4 {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .video-info p {
      color: var(--color-muted);
      font-size: 0.85rem;
    }

    .video-stats {
      text-align: right;
      font-size: 0.9rem;
    }

    .video-stats span {
      display: block;
      margin-bottom: 0.25rem;
    }

    .video-actions {
      display: flex;
      gap: 0.5rem;
    }

    .btn-small {
      padding: 0.375rem 0.75rem;
      font-size: 0.85rem;
      border-radius: var(--radius-sm);
    }

    .btn-edit {
      background: rgba(91, 95, 255, 0.1);
      color: var(--color-primary);
      border: 1px solid rgba(91, 95, 255, 0.2);
    }

    .btn-edit:hover {
      background: rgba(91, 95, 255, 0.2);
    }

    .btn-delete {
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.2);
    }

    .btn-delete:hover {
      background: rgba(239, 68, 68, 0.2);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      padding: 2rem;
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .modal-title {
      font-family: var(--font-heading);
      font-size: 1.3rem;
      font-weight: 700;
    }

    .btn-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--color-muted);
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius-sm);
    }

    .btn-close:hover {
      background: var(--color-surface-muted);
    }

    @media (max-width: 768px) {
      .admin-nav {
        padding: 0 1rem;
      }
      
      .admin-content {
        padding: 1rem;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .video-item {
        grid-template-columns: 1fr;
        text-align: center;
      }
      
      .video-stats {
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <!-- Login Form -->
  <div class="login-container" id="loginContainer">
    <div class="login-card">
      <div class="login-header">
        <h1>Admin Panel</h1>
        <p>Anes Portfolio Management</p>
      </div>
      <div class="error-message" id="errorMessage">Invalid password. Please try again.</div>
      <form id="loginForm">
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required placeholder="Enter admin password">
        </div>
        <button type="submit" class="btn btn-primary">Login</button>
      </form>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div class="admin-container" id="adminContainer">
    <header class="admin-header">
      <nav class="admin-nav">
        <div class="admin-brand">
          <img src="7362021.png" alt="Anes">
          <span>Admin Panel</span>
        </div>
        <button class="btn btn-logout" onclick="logout()">Logout</button>
      </nav>
    </header>

    <main class="admin-content">
      <!-- Statistics Section -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon views">üëÅÔ∏è</div>
          <div class="stat-value" id="totalViews">0</div>
          <div class="stat-label">Total Views</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon videos">üé¨</div>
          <div class="stat-value" id="totalVideos">4</div>
          <div class="stat-label">Total Videos</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon users">üë•</div>
          <div class="stat-value" id="uniqueVisitors">0</div>
          <div class="stat-label">Unique Visitors</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon time">‚è±Ô∏è</div>
          <div class="stat-value" id="avgTime">0s</div>
          <div class="stat-label">Avg. Time on Site</div>
        </div>
      </div>

      <!-- Video Management Section -->
      <div class="section-card">
        <div class="section-header">
          <h2 class="section-title">Video Management</h2>
          <button class="btn btn-add" onclick="openAddVideoModal()">
            <span>+</span> Add Video
          </button>
        </div>
        <div class="video-list" id="videoList">
          <div class="video-item">
            <img src="https://img.youtube.com/vi/xP1iEmdN9js/hqdefault.jpg" alt="Thumbnail" class="video-thumbnail">
            <div class="video-info">
              <h4>Aerial city opener</h4>
              <p>https://www.youtube.com/watch?v=xP1iEmdN9js</p>
            </div>
            <div class="video-stats">
              <span>üëÅÔ∏è 1,234 views</span>
              <span>üìÖ Added: 2 days ago</span>
            </div>
            <div class="video-actions">
              <button class="btn btn-small btn-edit">Edit</button>
              <button class="btn btn-small btn-delete">Delete</button>
            </div>
          </div>
          <div class="video-item">
            <img src="https://img.youtube.com/vi/LS26pR4jmJQ/hqdefault.jpg" alt="Thumbnail" class="video-thumbnail">
            <div class="video-info">
              <h4>YouTuber reaction edit</h4>
              <p>https://www.youtube.com/watch?v=LS26pR4jmJQ</p>
            </div>
            <div class="video-stats">
              <span>üëÅÔ∏è 856 views</span>
              <span>üìÖ Added: 1 week ago</span>
            </div>
            <div class="video-actions">
              <button class="btn btn-small btn-edit">Edit</button>
              <button class="btn btn-small btn-delete">Delete</button>
            </div>
          </div>
          <div class="video-item">
            <img src="https://img.youtube.com/vi/XOO0BsXTfn0/hqdefault.jpg" alt="Thumbnail" class="video-thumbnail">
            <div class="video-info">
              <h4>Immersive festival cut</h4>
              <p>https://www.youtube.com/watch?v=XOO0BsXTfn0</p>
            </div>
            <div class="video-stats">
              <span>üëÅÔ∏è 2,103 views</span>
              <span>üìÖ Added: 2 weeks ago</span>
            </div>
            <div class="video-actions">
              <button class="btn btn-small btn-edit">Edit</button>
              <button class="btn btn-small btn-delete">Delete</button>
            </div>
          </div>
          <div class="video-item">
            <img src="https://img.youtube.com/vi/_kVE4VcQxrA/hqdefault.jpg" alt="Thumbnail" class="video-thumbnail">
            <div class="video-info">
              <h4>Launch narrative</h4>
              <p>https://www.youtube.com/watch?v=_kVE4VcQxrA</p>
            </div>
            <div class="video-stats">
              <span>üëÅÔ∏è 1,567 views</span>
              <span>üìÖ Added: 3 weeks ago</span>
            </div>
            <div class="video-actions">
              <button class="btn btn-small btn-edit">Edit</button>
              <button class="btn btn-small btn-delete">Delete</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Analytics Section -->
      <div class="section-card">
        <div class="section-header">
          <h2 class="section-title">Analytics Overview</h2>
        </div>
        <div style="height: 300px; background: var(--color-surface-muted); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; color: var(--color-muted);">
          üìä Analytics charts will be displayed here
        </div>
      </div>
    </main>
  </div>

  <!-- Add Video Modal -->
  <div class="modal" id="addVideoModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Add New Video</h3>
        <button class="btn-close" onclick="closeModal()">&times;</button>
      </div>
      <form id="addVideoForm">
        <div class="form-group">
          <label for="videoTitle">Video Title</label>
          <input type="text" id="videoTitle" name="videoTitle" required placeholder="Enter video title">
        </div>
        <div class="form-group">
          <label for="videoUrl">YouTube URL</label>
          <input type="url" id="videoUrl" name="videoUrl" required placeholder="https://www.youtube.com/watch?v=...">
        </div>
        <div class="form-group">
          <label for="videoDescription">Description (Optional)</label>
          <input type="text" id="videoDescription" name="videoDescription" placeholder="Brief description">
        </div>
        <button type="submit" class="btn btn-primary">Add Video</button>
      </form>
    </div>
  </div>

  <script>
    // Admin password
    const ADMIN_PASSWORD = 'Chatti17';
    
    // Check if already logged in
    checkAuth();
    
    // Login form submission
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const password = document.getElementById('password').value;
      
      if (password === ADMIN_PASSWORD) {
        localStorage.setItem('adminAuth', 'true');
        showAdminPanel();
      } else {
        document.getElementById('errorMessage').style.display = 'block';
        setTimeout(() => {
          document.getElementById('errorMessage').style.display = 'none';
        }, 3000);
      }
    });
    
    // Check authentication
    function checkAuth() {
      const auth = localStorage.getItem('adminAuth');
      if (auth === 'true') {
        showAdminPanel();
      }
    }
    
    // Show admin panel
    function showAdminPanel() {
      document.getElementById('loginContainer').style.display = 'none';
      document.getElementById('adminContainer').style.display = 'block';
      loadStats();
    }
    
    // Logout
    function logout() {
      localStorage.removeItem('adminAuth');
      document.getElementById('loginContainer').style.display = 'flex';
      document.getElementById('adminContainer').style.display = 'none';
      document.getElementById('password').value = '';
    }
    
    // Load real statistics
    function loadStats() {
      // Get or initialize visitor tracking
      let totalVisits = parseInt(localStorage.getItem('totalVisits') || '0');
      let uniqueVisitors = JSON.parse(localStorage.getItem('uniqueVisitors') || '[]');
      let sessionStart = parseInt(localStorage.getItem('sessionStart') || '0');
      let totalTime = parseInt(localStorage.getItem('totalTime') || '0');
      
      // Track current visit
      const now = Date.now();
      const currentSession = now - sessionStart;
      
      // Increment total visits
      totalVisits++;
      localStorage.setItem('totalVisits', totalVisits);
      
      // Track unique visitors (using browser fingerprint)
      const visitorId = getVisitorId();
      if (!uniqueVisitors.includes(visitorId)) {
        uniqueVisitors.push(visitorId);
        localStorage.setItem('uniqueVisitors', JSON.stringify(uniqueVisitors));
      }
      
      // Update session time
      if (sessionStart > 0) {
        totalTime += currentSession;
        localStorage.setItem('totalTime', totalTime);
      }
      localStorage.setItem('sessionStart', now);
      
      // Calculate average time
      const avgTimeMs = totalTime / Math.max(totalVisits, 1);
      const avgTimeSeconds = Math.floor(avgTimeMs / 1000);
      const avgTimeMinutes = Math.floor(avgTimeSeconds / 60);
      const avgTimeDisplay = avgTimeMinutes > 0 ? `${avgTimeMinutes}m ${avgTimeSeconds % 60}s` : `${avgTimeSeconds}s`;
      
      // Update display
      document.getElementById('totalViews').textContent = totalVisits.toLocaleString();
      document.getElementById('uniqueVisitors').textContent = uniqueVisitors.length.toLocaleString();
      document.getElementById('avgTime').textContent = avgTimeDisplay;
    }
    
    // Generate simple visitor ID
    function getVisitorId() {
      let visitorId = localStorage.getItem('visitorId');
      if (!visitorId) {
        visitorId = 'visitor_' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('visitorId', visitorId);
      }
      return visitorId;
    }
    
    // Modal functions
    function openAddVideoModal() {
      document.getElementById('addVideoModal').style.display = 'flex';
    }
    
    function closeModal() {
      document.getElementById('addVideoModal').style.display = 'none';
      document.getElementById('addVideoForm').reset();
    }
    
    // Add video form submission
    document.getElementById('addVideoForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const title = document.getElementById('videoTitle').value;
      const url = document.getElementById('videoUrl').value;
      const description = document.getElementById('videoDescription').value;
      
      // Extract YouTube video ID
      const videoId = extractYouTubeId(url);
      if (!videoId) {
        alert('Invalid YouTube URL');
        return;
      }
      
      // Create new video item
      const videoItem = createVideoItem(title, url, videoId);
      
      // Save to localStorage for main site sync
      saveVideoToStorage(title, url, videoId);
      
      // Add to video list
      const videoList = document.getElementById('videoList');
      videoList.insertBefore(videoItem, videoList.firstChild);
      
      // Update video count
      const currentCount = parseInt(document.getElementById('totalVideos').textContent);
      document.getElementById('totalVideos').textContent = currentCount + 1;
      
      // Close modal
      closeModal();
      
      // Show success message
      alert('Video added successfully! It will appear on the main site.');
    });
    
    // Save video to localStorage for main site
    function saveVideoToStorage(title, url, videoId) {
      let videos = JSON.parse(localStorage.getItem('portfolioVideos') || '[]');
      
      // Check if video already exists
      const exists = videos.some(v => v.videoId === videoId);
      if (!exists) {
        videos.push({
          title: title,
          url: url,
          videoId: videoId,
          addedDate: new Date().toISOString()
        });
        
        // Keep only latest 10 videos
        if (videos.length > 10) {
          videos = videos.slice(-10);
        }
        
        localStorage.setItem('portfolioVideos', JSON.stringify(videos));
      }
    }
    
    // Extract YouTube video ID from URL
    function extractYouTubeId(url) {
      const regex = /(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/;
      const match = url.match(regex);
      return match ? match[1] : null;
    }
    
    // Create video item element
    function createVideoItem(title, url, videoId) {
      const div = document.createElement('div');
      div.className = 'video-item';
      div.innerHTML = `
        <img src="https://img.youtube.com/vi/${videoId}/hqdefault.jpg" alt="Thumbnail" class="video-thumbnail">
        <div class="video-info">
          <h4>${title}</h4>
          <p>${url}</p>
        </div>
        <div class="video-stats">
          <span>üëÅÔ∏è 0 views</span>
          <span>üìÖ Added: Just now</span>
        </div>
        <div class="video-actions">
          <button class="btn btn-small btn-edit">Edit</button>
          <button class="btn btn-small btn-delete" onclick="this.closest('.video-item').remove()">Delete</button>
        </div>
      `;
      return div;
    }
    
    // Close modal when clicking outside
    window.addEventListener('click', function(e) {
      const modal = document.getElementById('addVideoModal');
      if (e.target === modal) {
        closeModal();
      }
    });
  </script>
</body>
</html>
